# Инструкция по установке и запуску системы мониторинга нежелательных реакций

## Системные требования
- Python 3.8 или выше
- Доступ к интернету (для установки зависимостей)
- Минимум 2 ГБ свободной оперативной памяти
- Минимум 500 МБ свободного пространства на диске

## Установка

### 1. Создание виртуального окружения Python

```bash
# Создаем виртуальное окружение
python -m venv venv

# Активируем виртуальное окружение
# Для Windows:
venv\Scripts\activate
# Для MacOS/Linux:
source venv/bin/activate
```

### 2. Установка зависимостей

```bash
# Устанавливаем необходимые зависимости
pip install -r requirements.txt

# Если первый вариант вызвал ошибки, можно использовать полный набор зависимостей
# pip install -r requirements_full.txt
```

## Запуск приложения

```bash
# Запуск приложения
python run.py
```

После запуска приложение будет доступно по адресу: http://localhost:5001/

## Примечания по работе с системой

1. **PharmBERTa**: В проекте отключено использование PharmBERTa для обеспечения совместимости на разных платформах.

2. **Данные**: 
   - Все загруженные данные хранятся в папке `data`
   - Кэшированные результаты сохраняются в JSON-файлы

3. **Устранение неполадок**:
   - Если при запуске возникает ошибка о занятом порте, остановите процессы на порту 5001 или измените порт в файле `run.py`
   - Если есть проблемы с установкой пакетов, попробуйте установить их по отдельности

4. **Обновление данных**:
   - После запуска приложения вы можете обновить предзагруженные данные через API `/api/refresh-data`

## Расширенная установка с поддержкой GPU (опционально)

Если вы хотите использовать GPU на компьютере с NVIDIA GPU или Apple Silicon (M1/M2/M3):

### Для Apple Silicon
```bash
# Активируйте виртуальное окружение
source venv/bin/activate

# Установите PyTorch с поддержкой Metal
pip install torch torchvision torchaudio

# Установите остальные зависимости
pip install -r requirements.txt

# Включите PharmBERTa через переменную окружения
export USE_PHARMBERTA=1

# Запустите приложение
python run.py
```

### Для NVIDIA GPU
```bash
# Активируйте виртуальное окружение
source venv/bin/activate

# Установите PyTorch с поддержкой CUDA
pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu118

# Установите остальные зависимости
pip install -r requirements.txt

# Включите PharmBERTa через переменную окружения
export USE_PHARMBERTA=1

# Запустите приложение
python run.py
``` 